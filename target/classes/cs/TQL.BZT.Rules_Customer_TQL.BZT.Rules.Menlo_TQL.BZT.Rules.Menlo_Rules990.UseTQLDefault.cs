using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Diagnostics;
using TQL.BZT.BLL.DataContracts;
using TQL.BZT.Rules.Utils;

namespace TQL.BZT.Rules.Menlo
{
    public class Rules990
    {
        /// <summary>
        /// Common 990 Settings for the group.
        /// ExtraCode to be added.But code not to be removed from Group settings.
        /// </summary>
        /// <param name="edi990Obj">990 DataContract Object</param>
        /// <returns>990 DataContract Object</returns>
        public static void setGroupValues(ref TQLBZTEDI990 edi990Obj)
        {

            /****       Initialize RulesInfoCollection for the Group  *****/
            RulesInfoCollection rulesinfocollection = new RulesInfoCollection();
            rulesinfocollection = edi990Obj.LOADHDR.RULEINFOCollection;



            /******    Set include/exclude flag. RuleType = 8   ******/
            /******    Derived from the defaults then modified  ******/

            //These are the most common used. Include them all. Let developer turn them off.
            Common.UpdateIncludeSegmentRule(ref rulesinfocollection, "B1", "T");
            Common.UpdateIncludeSegmentRule(ref rulesinfocollection, "N9", "T");
            Common.UpdateIncludeSegmentRule(ref rulesinfocollection, "G62", "T");
            Common.UpdateIncludeSegmentRule(ref rulesinfocollection, "V9", "T");

            //Never seen these used. Set to False. **** NOTE ***** These are not mapped in cammon 990 map.
            Common.UpdateIncludeSegmentRule(ref rulesinfocollection, "N9_C040", "F");
            Common.UpdateIncludeSegmentRule(ref rulesinfocollection, "N7", "F");
            Common.UpdateIncludeSegmentRule(ref rulesinfocollection, "L9", "F");
            Common.UpdateIncludeSegmentRule(ref rulesinfocollection, "K1", "F");
            Common.UpdateIncludeSegmentRule(ref rulesinfocollection, "S5Loop1", "F");
            Common.UpdateIncludeSegmentRule(ref rulesinfocollection, "S5Loop1_S5", "F");
            Common.UpdateIncludeSegmentRule(ref rulesinfocollection, "S5Loop1_N9_2", "F");
            Common.UpdateIncludeSegmentRule(ref rulesinfocollection, "S5Loop1_G62_2", "F");
            Common.UpdateIncludeSegmentRule(ref rulesinfocollection, "S5Loop1_K1_2", "F");


            //Set Hard Coded values. RuleType = 1\\
            //NOTE:  The canonical map must have the logic to check hard coded values. This is limited for now.

            /* Sample Code
            Common.UpdateHardCodedValueRule(ref rulesinfocollection, "N9_C04001", "8M"); //Params (Rules Info Collection to be updated, Destination element, hard coded value)
             
            string hardcodevalue = edi990Obj......   or "aaaabbbbcccc"
            Common.UpdateHardCodedValueRule(ref rulesinfocollection, "N9_C04001", hardcodedvalue); 
             
            */

        }

        /***********************************************************************************************************
         * *********************************************************************************************************
         * PLEASE NOTE:  It may be easier, and it is ok to use a BizTalk map rather than this code.  The new schemas
         *               and maps are so much better to work with.  In the future, when the custom functionality
         *               that would normally go in these methods can be generated by database settings, custom maps
         *               can be eliminated completely.
         ***********************************************************************************************************/
        /// <summary>
        /// Custom Settings for individual customer
        /// </summary>
        /// <param name="edi990Obj">ref 990 DataContract Object</param>
        /// <returns>990 DataContract Object by Reference</returns>
        public static void setCustomerValues(ref TQLBZTEDI990 edi990Obj)
        {

            //Initialize RulesInfoCollection
            /*
            RulesInfoCollection rulesinfocollection = new RulesInfoCollection();
            rulesinfocollection = edi990Obj.LOADHDR.RULEINFOCollection;
            */


            //Set Custom include/exclude flag. RuleType = 8\\
            /* Sample Code                        
            Common.UpdateIncludeSegmentRule(ref rulesinfocollection, "B3", "T");  //T or F to turn on or off                          
            */


            //Set Hard Coded values. RuleType = 1\\        
            //NOTE:  The canonical map must have the logic to check hard coded values. This is limited for now.

            /* Sample Code
            Common.UpdateHardCodedValueRule(ref rulesinfocollection, "N9_C04001", "8M"); //Params (Rules Info Collection to be updated, Destination element, hard coded value)
             
            string hardcodevalue = edi990Obj......   or "aaaabbbbcccc"
            Common.UpdateHardCodedValueRule(ref rulesinfocollection, "N9_C04001", hardcodedvalue); 
             
            */
        }


    }
}
